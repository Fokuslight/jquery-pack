(function($) {

	$.fn.sas = function(o) {
		return this.each(function(index, elem) {
			var slideList  = $(elem),
				slides     = slideList.find('li'),
				wrapWidth  = $(slides[0]).width(),
				wrapHeight = $(slides[0]).height();


			// init elems and css properties for elems
			(function initStyleAndElems() {
				slideList.wrap('<div class="slider-wrap' + "-" + index + '"></div>');
				var slideWrap = $(elem).parent('div');
				slideList.css({
					position    :  'absolute',
					width       :  wrapWidth*slides.length
				});
				slideWrap.css({
					width       :  wrapWidth,
					height      :  wrapHeight,
					overflow    :  'hidden',
					position    :  'relative'
				});

				// adding slide controls and css properties for them
				slideWrap.append('<span class="prev">prev</span><span class="next">next</span>');
				var controls    =  $(slideWrap.find('span')),
					prev        =  slideWrap.children('.prev'),
					next        =  slideWrap.children('.next');

				controls.css({
					display     :  'block',
					width       :  40,
					height      :  30,
					background  :  '#fff',
					position    :  'absolute',
					top         :  wrapHeight/2 - 15,
					textAlign   :  'center',
					cursor      :  'pointer',
					lineHeight  :  '30px'
				});

				prev.css({
					left        :  0
				});

				next.css({
					right       :  0
				});
				// init animate logic of slide if click on next or prev 
				controls.on('click', function() {
					($(this).text() === 'next') ? moveForward() : moveBack()
				});
			})();

			// init move forward function 
			function moveForward() {
				slideList.animate({
					left: '-=' + wrapWidth
				}, function() {
					$(this).children('li').first().appendTo(slideList).parent(slideList).css({
						left: '+=' + wrapWidth
					});
				});
			}

			// ini move back function
			function moveBack() {
				slideList.children('li').last().prependTo(slideList).parent(slideList).css({
					left: '-='+wrapWidth
				}).animate({
					left: '+='+wrapWidth
				});
			}
		})
	}
})(jQuery)